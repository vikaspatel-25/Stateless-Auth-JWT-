<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
<style>
    *{
        font-family:"Roboto",sans-serif;
    }
</style>
</head>
<body id="body" class="body" style="height: 100vh; width: 100vw; background-color: #131313;margin: 0;display: flex;justify-content: center;">
    
 <div id="container" class="container">
    <div id="titleContainer" class="title-container" style="text-align: start;justify-content: start;">Hello,<br><%=username %> </div>
    <div id="loginContainer" class="login-container">
        <span id="heading" class="heading">What is Stateful Authentication?<br></span>
        <div id="textContainer" class="text-container">
       <span >• It is an Authentication method in which server generates a session Id and store it into 
        your browsers cookies.<br><br>• Then whenever you make a subsequent request browser sents those cookies with session
        details, server checks the validity of those cookies with corresponding data it has stored in database or sever's in-memory
        and let you access the requested page if your session is valid.(you can check this by refreshing this page)<br><br>• In this type of Authentication browser has to 
        maintain your session details which is not recommended becuase on vast userbase it becomes difficult to manage those, in that case you can use Stateless Authentication. 
       </span>
       </div>  
    </div>
    <!-- <div id="textBox" class="text-box">Your Session ends in 01:00 Minutes</div> -->
    <button id="logOutButton" type="button" style="height: 40px; width:120px;margin-top:30px;margin-bottom: 10px;" class="button"><a  style="text-decoration: none;color: #c8c8df;">Log Out</a></button>

 </div>
    <script>
    const sessionBox = document.querySelector("#textBox");
    const logOutButton =document.querySelector("#logOutButton");
    const titleBox = document.querySelector("#titleContainer");
    
//     let sessionTime = 59;
//     let user = "Vikas Patel"
    
//    function sleep(ms){
//     return new Promise((resolve) => setTimeout(resolve,ms));
//    }

//    async function sessionTimer(){
//     for(let i = sessionTime ; i>=0; i--){
        
//            sessionBox.innerText = `Your Session ends in 00:${i} Minutes`;
//            await sleep(1000)
//            if(i==0){sessionBox.innerText = `Your Session has ended!\nPlease login again to make further requests `;
//            }
//         }
        
//     }
    
//     sessionTimer(sessionTime);

function deleteCookie(){
    document.cookie = "uid=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"; 
}
async function logout(){
   await deleteCookie()
    window.location.href ='/login'
}

logOutButton.addEventListener('click',logout);
    
    </script>

</script>
</body>
</html>